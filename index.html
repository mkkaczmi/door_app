<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Door Making App</title>
    <link rel="stylesheet" href="./assets/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Door Making App</h1>
        </header>
        
            <!-- Existing HTML code -->
    <!-- ... -->

    <main>
        <!-- Form with two columns and rows -->
        <form class="door-form">
            <!-- First Column -->
            <div class="form-column">
                
                <!-- Shape type -->
                <div class="form-group">
                    <!-- Shape Type (will be dynamically updated based on Project Type selection) -->
                    <label for="shapeType">Shape Type</label>
                    <select id="shapeType" name="shapeType" required>
                        <option value="defaultShape">Select Project Type First</option>
                    </select>
                </div>

                <!-- Project Code -->
                <div class="form-group">
                    <label for="projectCode">Project Code</label>
                    <input type="text" id="projectCode" name="projectCode" placeholder="Enter project code" required>
                </div>

                <!-- Client Name -->
                <div class="form-group">
                    <label for="clientName">Client Name</label>
                    <input type="text" id="clientName" name="clientName" placeholder="Enter client name" required>
                </div>

                <!-- Client Location -->
                <div class="form-group">
                    <label for="location">Location</label>
                    <input type="text" id="location" name="location" placeholder="Enter location" required>
                    <button type="button" id="getLocation">Get Current Location</button>
                </div>

                <!-- TASD Representative -->
                <div class="form-group">
                    <label for="TASD_rep">TASD Representative</label>
                    <input type="text" id="TASD_rep" name="TASD_rep" placeholder="TASD Representative" required>
                </div>

                <!-- Additional form fields in the first column -->
                <!-- ... -->
            </div>
            <div class="form-column">
                <!-- Second Column -->
                
                <!-- Project Type -->
                <div class="form-group">
                    <label for="projectType">Project type</label>
                    <select id="projectType" name="projectType" required>
                        <option value="BDM">BDM</option>
                        <option value="BR">BR</option>
                        <option value="CL">CL</option>
                    </select>
                </div>

                <!-- Project Subtype -->
                <div class="form-group">
                    <label for="projectSubtype">Project subtype</label>
                    <select id="projectSubtype" name="projectSubtype" required>
                        <option value="to_do">TO DO</option>
                    </select>
                </div>

                <!-- Expected installation date -->
                <div class="form-group">
                    <label for="expectedInstallation">Expected Installation Date</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" id="flexibleInstallation" name="expectedInstallation" value="flexible" required>
                            Flexible
                        </label>
                        <label class="radio-label">
                            <input type="radio" id="fixedInstallation" name="expectedInstallation" value="fixed" required>
                            Fixed
                        </label>
                    </div>
                    <input type="date" id="installationDate" name="installationDate" required>
                </div>
                
                
                
                <!-- Additional form fields in the second column -->
                <!-- ... -->
            </div>
            <div class="form-group">
                <button type="submit">Submit</button>
            </div>
        </form>
    </main>

<!-- Existing HTML code -->
<!-- ... -->

        
        <footer>
            <p>&copy; 2023 Door Making Company</p>
        </footer>
    </div>
    <script>
        // Function to handle geolocation
        function getCurrentLocation() {
            if ('geolocation' in navigator) {
                navigator.geolocation.getCurrentPosition(function (position) {
                    const latitude = position.coords.latitude;
                    const longitude = position.coords.longitude;
                    const locationField = document.getElementById('location');

                    // Reverse geocode the coordinates to get address details
                    fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}`)
                        .then((response) => response.json())
                        .then((data) => {
                            const address = data.display_name;
                            locationField.value = address;
                        })
                        .catch((error) => {
                            console.error('Error getting location:', error.message);
                        });
                }, function (error) {
                    console.error('Error getting location:', error.message);
                });
            } else {
                alert('Geolocation is not supported in your browser.');
            }
        }
        // Function to dynamically update shape type options based on project type selection
        document.getElementById('projectType').addEventListener('change', function () {
            const shapeTypeSelect = document.getElementById('shapeType');
            const projectType = this.value;

            // Clear existing options
            shapeTypeSelect.innerHTML = '';

            // Add shape type options based on project type
            switch (projectType) {
                case 'BDM':
                    shapeTypeSelect.innerHTML = '<option value="rectangle">Rectangle</option>';
                    break;
                case 'BR':
                    shapeTypeSelect.innerHTML = '<option value="rectangle">Rectangle</option>' + '<option value="rectangle_oval">Rectangle with oval</option>';
                    break;
                case 'CL':
                    shapeTypeSelect.innerHTML = '<option value="rectangle">Rectangle</option>' + '<option value="rectangle_oval">Rectangle with oval</option>' + '<option value="rectangle_rect">Rectangle with rectangle</option>';
                    break;
                default:
                    // Default options for other project types
                    break;
            }
        });
        
    
        // Add a click event listener to the "Get Current Location" button
        document.getElementById('getLocation').addEventListener('click', getCurrentLocation);
    </script>    
</body>
</html>
